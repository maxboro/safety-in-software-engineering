---
title: "Runtime Safety Mechanisms"
permalink: /chapters/runtime-safety/
---
## Runtime Safety Mechanisms

Runtime safety mechanisms are controls that **detect faults, constrain behavior, and force/maintain safe conditions while the system is running**. They complement design-time activities (reviews, analysis, testing) by handling *residual faults* and *unexpected conditions* in operation. Most safety standards treat “safe state” and “emergency operation” (temporary safe operation when an immediate safe state isn’t reachable) as explicit concepts to engineer and justify. ([ZVEI][1])

---

### Watchdogs and health monitoring

**Goal:** detect loss of control (hangs), timing violations, and invalid execution flow early enough to react within the system’s tolerated time.

**Common patterns**

* **Heartbeats / alive counters (liveness):** a task or component periodically emits a “still running” signal. Missed heartbeats indicate a stuck task or dead process.
* **Deadline monitors (temporal correctness):** verify that an operation completes within an expected time window (e.g., sensor read → filter update → control output).
* **Logical/program-flow monitors:** verify that checkpoints occur in the correct order (state-machine progression, startup sequencing, safety-critical loop order).

AUTOSAR’s Health Monitoring specification uses exactly these three categories (alive, deadline, logical supervision) as core health-monitoring functions. ([autosar.org][2])

**Watchdog design principles**

* **Independence matters:** IEC 61508 describes watchdogs as external timing elements with a **separate time base**, so a single software fault is less likely to defeat both the function and its monitor. ([Analog Devices][3])
* **Hierarchical monitoring:** component-level monitors (thread/process) roll up into a system monitor; the system monitor triggers a safety reaction (safe stop / reset / degraded mode).
* **Define reactions, not just detection:** detection without a defined reaction can be worse than no monitor (it creates false confidence and ambiguous behavior).

**Practical implementation notes**

* Set timeouts based on *worst-case execution time* (WCET) assumptions, scheduling jitter, and communication delays; avoid “tight” thresholds that create nuisance trips.
* Log **why** a monitor tripped (which deadline, which heartbeat, which sequence), but keep logging bounded to avoid cascading failures during fault conditions.
* In distributed/robotics middleware, watchdogs are often implemented as reusable components (e.g., ROS 2 watchdog patterns with a heartbeat node). ([GitHub][4])

---

### Limiters and safety envelopes

**Goal:** keep the system inside a *provably safer region* even when inputs are wrong, software is degraded, or a user commands something unsafe.

**Typical envelope mechanisms**

* **Rate limiting:** cap how quickly a command or state can change (acceleration/jerk, steering rate, valve slew rate). Prevents instability and limits kinetic energy buildup.
* **Saturation/clamping:** cap magnitude (torque, speed, braking force, actuator position). Often paired with **anti-windup** in control loops.
* **Spatial/operational bounds:** permitted zones, keep-out areas, altitude/floor/ceiling constraints, corridor following, etc.

**Safety-rated limiting examples (robotics)**

* Collaborative robot safety guidance explicitly discusses configurable limits for **forces, torques, velocities, momentum, mechanical power** in “power and force limiting” collaborative operation. ([diag.uniroma1.it][5])
* “Speed and separation monitoring” is treated as a safety technique where the system maintains a minimum protective distance by monitoring intrusions and reducing speed/triggering protective actions. ([universal-robots.com][6])

**Geofencing as an envelope (UAS example)**

* EASA defines geofencing as a function that provides position/airspace information and **may limit access** of the unmanned aircraft to certain areas. ([Skybrary][7])
* European ATM/UTM initiatives describe geofencing/geo-caging as containment measures to prevent entering forbidden areas or exceeding set boundaries. ([sesarju.eu][8])

**Practical implementation notes**

* Apply envelopes **at the last responsible moment** (close to actuation/output), so earlier software layers cannot bypass them.
* Make envelopes **mode-aware** (normal, degraded, emergency) with explicit transition rules; don’t silently widen limits in “debug” modes.
* Treat “envelope hit” as a safety-relevant event: count, alert, and potentially trigger degraded mode if it becomes persistent.

---

### Interlocks

**Goal:** prevent hazardous activation unless **preconditions** are satisfied, and make unsafe commands harder to trigger accidentally or casually.

**Typical forms**

* **Preconditions for activation:** require specific sensor availability, valid calibration, safe temperature/voltage, doors/guards closed, operator present, etc.
* **Two-step actions:** “arm then act,” “hold-to-run,” or explicit confirmation sequences for irreversible actions (e-stop reset, high-energy actuation).
* **Arming states:** explicit state machine: *Safe → Standby → Armed → Active → Fault/Safe*.

**Grounding in machinery safety concepts**

* Guard interlocking devices are defined as devices intended to prevent operation of hazardous machine functions under specified conditions (e.g., guard not closed). ([ReeR][9])
* Two-hand control devices have explicit safety requirements and signal-dependency rules standardized in ISO 13851 (principles for design/selection). ([iso.org][10])
* Enabling devices commonly use a **3-position “OFF–ON–OFF”** concept, where motion is allowed only in the enable position; IEC 60204-1 is cited as a requirement basis for this behavior. ([mm.digikey.com][11])

**Practical implementation notes**

* Implement interlocks as **centralized, testable predicates** (not scattered `if` statements), and make bypass impossible in production builds.
* For operator actions, prefer **hold-to-run / two-step** patterns for high-risk operations, and require a return-to-safe state after faults before re-arming.

---

### Redundancy management

**Goal:** keep control safe when single elements are wrong, and detect faults via disagreement.

**Mechanisms**

* **Voting:** 2oo3 / majority voting; can be biased toward the safe direction (trip if any channel demands trip) depending on the safety goal.
* **Cross-checks and plausibility checks:** compare independent estimates (sensor A vs sensor B; model-prediction vs measurement; kinematics consistency).
* **Diversity where feasible:** different implementations/algorithms reduce common-mode systematic faults.

IEC 61508 explicitly discusses **majority voting strategies** (including safe-biased voting and “middle value” selection approaches when no agreement exists) as architectural options. ([cechina.cn][12])

**Practical implementation notes**

* Define what happens on disagreement: **fail-safe trip**, **freeze outputs**, or **enter emergency operation** (bounded-time degraded mode) depending on what “safe” means for the system.
* Ensure redundancy management is itself robust: independence in timing, resources, and failure modes (avoid shared single points like one clock or one comms path).

---

### Safe shutdown and recovery

**Goal:** drive the system to a defined safe condition, and return to service in a controlled way without oscillating between unsafe states.

**Safe shutdown**

* A “safe state” is commonly defined as a state of a functional unit **when safety is achieved**. ([ZVEI][1])
* Safety reactions should be deterministic: stop hazardous outputs, engage brakes/holds if needed, disable actuators, and preserve diagnostic evidence (bounded, reliable storage).

**Recovery and restart strategy**

* Some certified safety assessments explicitly treat restart as the only way out of certain safe/failure states (i.e., recovery is a controlled reboot/power-cycle path). ([PR Electronics][13])
* Avoid uncontrolled restart loops: use backoff, fault counters, and require a human/service action after repeated faults.

**Degraded mode entry/exit criteria**

ISO 26262 notes that when a safe state cannot be reached/maintained in time, a safety mechanism may transition the item into **emergency operation** to provide safety until a safe state can be achieved and maintained; it also ties this to a tolerance time interval concept. ([files.infocentre.io][14])

Practical criteria to define explicitly:

* **Entry:** which faults trigger degraded mode (lost sensor, plausibility failure, thermal limit, watchdog pre-trip), and what minimum evidence is required.
* **Allowed behavior:** reduced speed/torque, restricted workspace, stricter envelopes, limited autonomy.
* **Exit:** conditions to return to normal (sensor healthy for N seconds, self-test passed, operator re-armed), and which transitions are forbidden without a reset.

---

[1]: https://www.zvei.org/fileadmin/user_upload/Presse_und_Medien/Publikationen/2019/Juli/Fehlertoleranz_in_der_Maschinensicherheit/ZVEI_WP_Fehlertoleranz_EN_Online.pdf?utm_source=chatgpt.com "Fault tolerance in machine safety"
[2]: https://www.autosar.org/fileadmin/standards/R22-11/FO/AUTOSAR_ASWS_HealthMonitoring.pdf?utm_source=chatgpt.com "Specification of Health Monitoring"
[3]: https://www.analog.com/en/resources/analog-dialogue/articles/improving-industrial-functional-safety-part-4.html?utm_source=chatgpt.com "Program Sequence Monitoring Using Watchdog Timers"
[4]: https://github.com/ros-safety/software_watchdogs?utm_source=chatgpt.com "ros-safety/software_watchdogs: A library of (software) ..."
[5]: https://www.diag.uniroma1.it/deluca/pHRI_elective/ISO_TS_15066_2016_en.pdf?utm_source=chatgpt.com "TECHNICAL SPECIFICATION ISO/TS 15066"
[6]: https://www.universal-robots.com/manuals/EN/HTML/SW5_20/Content/prod-usr-man/complianceUR3e/H_g5_sections/safetyFunctionsAndinterfaces/safety_functions_table2_g5_en.htm?utm_source=chatgpt.com "Table 2"
[7]: https://skybrary.aero/articles/geofencing-basics?utm_source=chatgpt.com "Geofencing Basics"
[8]: https://www.sesarju.eu/projects/geosafe?utm_source=chatgpt.com "Geofencing for safe and autonomous flight in Europe"
[9]: https://www.reersafety.com/en/academy/industrial-safety-guide/safety-switch-with-guard-locking-2/?utm_source=chatgpt.com "Locking and Interlocking Devices for Industrial Safety"
[10]: https://www.iso.org/standard/70295.html?utm_source=chatgpt.com "ISO 13851:2019 - Two-hand control devices"
[11]: https://mm.digikey.com/Volume0/opasdata/d220001/medias/docus/45/Enabling_Switches.pdf?utm_source=chatgpt.com "Enabling Switches Grip Style Enabling Switches"
[12]: https://www.cechina.cn/eletter/standard/safety/iec61508-7.pdf?utm_source=chatgpt.com "IEC 61508 Part7-4.0"
[13]: https://www.prelectronics.com/filearkiv/pdf-ftp/5400_series/5437/assessment_report/assessmentreport_5437_6437_v2r2.pdf?utm_source=chatgpt.com "Results of the IEC 61508 Functional Safety Assessment"
[14]: https://files.infocentre.io/files/docs_clients/126_2008096316_3334601_ISO%2026262-1_2018.pdf?utm_source=chatgpt.com "INTERNATIONAL STANDARD ISO 26262-1 - Infocentre"
